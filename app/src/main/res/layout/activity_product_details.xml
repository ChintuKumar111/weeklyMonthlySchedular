<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:fitsSystemWindows="true"
    android:layout_height="match_parent">

    <!-- Main Content -->
    <androidx.core.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fillViewport="true"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="@dimen/_72sdp">

            <!-- Product Card -->
            <com.google.android.material.card.MaterialCardView
                android:id="@+id/productCard"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="@dimen/_1sdp"
                android:layout_marginEnd="@dimen/_1sdp"
                app:cardCornerRadius="24dp"
                app:cardElevation="8dp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent">

                <androidx.constraintlayout.widget.ConstraintLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content">

                    <!-- Product Image Section -->
                    <FrameLayout
                        android:id="@+id/imageSection"
                        android:layout_width="match_parent"
                        android:layout_height="@dimen/_220sdp"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toTopOf="parent">

                        <ImageView
                            android:id="@+id/productImage"
                            android:layout_width="match_parent"
                            android:layout_height="match_parent"
                            android:scaleType="center"
                            android:src="@drawable/milk" />

                        <!-- Preservative Free Badge -->
                        <com.google.android.material.card.MaterialCardView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_gravity="top|end"
                            android:layout_margin="16dp"
                            app:cardBackgroundColor="@color/primary"
                            app:cardCornerRadius="20dp"
                            app:cardElevation="4dp">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:paddingStart="16dp"
                                android:paddingTop="8dp"
                                android:paddingEnd="16dp"
                                android:paddingBottom="8dp"
                                android:text="PRESERVATIVE FREE"
                                android:textColor="@android:color/white"
                                android:textSize="@dimen/_8sdp"
                                />

                        </com.google.android.material.card.MaterialCardView>

                    </FrameLayout>

                    <!-- Product Details Section -->
                    <LinearLayout
                        android:id="@+id/detailsSection"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical"
                        android:padding="10dp"
                        android:background="@color/white"
                        app:layout_constraintEnd_toEndOf="parent"
                        app:layout_constraintStart_toStartOf="parent"
                        app:layout_constraintTop_toBottomOf="@id/imageSection">

                        <!-- Product Header -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center_vertical"
                            android:orientation="horizontal">

                            <LinearLayout
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_weight="1"
                                android:orientation="vertical">

                                <TextView
                                    android:id="@+id/productTitle"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="A2 Cow Milk"
                                    android:textColor="@color/text_primary"
                                    android:textSize="@dimen/_16sdp"
                                    android:textStyle="bold" />

                                <TextView
                                    android:id="@+id/productUnit"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:layout_marginTop="4dp"
                                    android:text="500ml • Fresh Daily"
                                    android:textColor="@color/text_secondary"
                                    android:textSize="@dimen/_10sdp" />

                            </LinearLayout>

                            <!-- Favorite Button -->

                        </LinearLayout>

                        <!-- Price Section -->
                        <com.google.android.material.card.MaterialCardView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="2dp"
                            app:cardBackgroundColor="@color/primary_light3"
                            app:cardCornerRadius="16dp"
                            app:cardElevation="0dp"
                            app:strokeColor="@color/black"
                            app:strokeWidth="0dp">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:gravity="center_vertical"
                                android:orientation="horizontal"
                                android:padding="@dimen/_10sdp">

                                <View
                                    android:layout_width="2dp"
                                    android:layout_height="match_parent"
                                    android:layout_marginEnd="16dp"
                                    android:background="@color/primary" />

                                <TextView
                                    android:id="@+id/currentPrice"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:text="₹45"
                                    android:textColor="@color/primary_dark"
                                    android:textSize="@dimen/_16sdp"
                                    android:textStyle="bold" />

                                <TextView
                                    android:id="@+id/originalPrice"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:layout_marginStart="12dp"
                                    android:text="₹30.00"
                                    android:textColor="@color/gray_500"
                                    android:textSize="@dimen/_10sdp"
                                    android:textStyle="bold"
                                    />

                                <Space
                                    android:layout_width="0dp"
                                    android:layout_height="1dp"
                                    android:layout_weight="1" />

                                <!-- Discount Badge -->
                                <com.google.android.material.card.MaterialCardView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    app:cardBackgroundColor="#CFEB3131"
                                    app:cardCornerRadius="8dp"
                                    app:cardElevation="0dp">

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:paddingStart="12dp"
                                        android:paddingTop="4dp"
                                        android:paddingEnd="12dp"
                                        android:paddingBottom="4dp"
                                        android:text="SAVE 33%"
                                        android:textColor="@android:color/white"
                                        android:textSize="@dimen/_8sdp"
                                        android:textStyle="bold" />

                                </com.google.android.material.card.MaterialCardView>

                            </LinearLayout>

                        </com.google.android.material.card.MaterialCardView>

                        <!-- Features Grid -->
                        <GridLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="28dp"
                            android:columnCount="2"
                            android:rowCount="2">

                            <!-- Feature 1 -->
                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_columnWeight="1"
                                android:layout_margin="6dp"
                                app:cardBackgroundColor="@color/white"
                                app:cardCornerRadius="12dp"
                                app:strokeColor="@color/primary"
                                app:strokeWidth="1dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:gravity="center_vertical"
                                    android:orientation="horizontal"
                                    android:padding="10dp">

                                    <ImageView
                                        android:layout_width="20dp"
                                        android:layout_height="20dp"
                                        android:src="@drawable/ic_check_circle"
                                        />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginStart="10dp"
                                        android:text="100% Pure"
                                        android:textColor="@color/text_secondary"
                                        android:textSize="13sp"
                                        android:textStyle="bold" />

                                </LinearLayout>

                            </com.google.android.material.card.MaterialCardView>

                            <!-- Feature 2 -->
                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_columnWeight="1"
                                android:layout_margin="6dp"
                                app:cardBackgroundColor="@color/white"
                                app:cardCornerRadius="12dp"
                                app:strokeColor="@color/primary"
                                app:strokeWidth="1dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:gravity="center_vertical"
                                    android:orientation="horizontal"
                                    android:padding="10dp">

                                    <ImageView
                                        android:layout_width="20dp"
                                        android:layout_height="20dp"
                                        android:src="@drawable/ic_protien" />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginStart="10dp"
                                        android:text="Rich in Protein"
                                        android:textColor="@color/text_secondary"
                                        android:textSize="@dimen/_8sdp"
                                        android:textStyle="bold" />

                                </LinearLayout>

                            </com.google.android.material.card.MaterialCardView>

                            <!-- Feature 3 -->
                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_columnWeight="1"
                                android:layout_margin="6dp"
                                app:cardBackgroundColor="@color/white"
                                app:cardCornerRadius="12dp"
                                app:cardElevation="0dp"
                                app:strokeColor="@color/primary"
                                app:strokeWidth="1dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:gravity="center_vertical"
                                    android:orientation="horizontal"
                                    android:padding="10dp">

                                    <ImageView
                                        android:layout_width="20dp"
                                        android:layout_height="20dp"
                                        android:src="@drawable/ic_smile"
                                    />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginStart="10dp"
                                        android:text="Easy to Digest"
                                        android:textColor="@color/text_secondary"
                                        android:textSize="13sp"
                                        android:textStyle="bold" />

                                </LinearLayout>

                            </com.google.android.material.card.MaterialCardView>

                            <!-- Feature 4 -->
                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="0dp"
                                android:layout_height="wrap_content"
                                android:layout_row="1"
                                android:layout_column="1"
                                android:layout_rowWeight="1"
                                android:layout_columnWeight="1"
                                android:layout_margin="6dp"
                                app:cardBackgroundColor="@color/white"
                                app:cardCornerRadius="12dp"
                                app:cardElevation="0dp"
                                app:strokeColor="@color/primary"
                                app:strokeWidth="1dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:gravity="center_vertical"
                                    android:orientation="horizontal"
                                    android:padding="10dp">

                                    <ImageView
                                        android:layout_width="20dp"
                                        android:layout_height="20dp"
                                        android:src="@drawable/ic_tag"
                                        />

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginStart="10dp"
                                        android:text="Premium Quality"
                                        android:textColor="@color/text_secondary"
                                        android:textSize="@dimen/_8sdp"
                                        android:textStyle="bold" />

                                </LinearLayout>

                            </com.google.android.material.card.MaterialCardView>

                        </GridLayout>

                        <!-- Description Section -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="5dp"
                            android:orientation="vertical">

                            <LinearLayout
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:gravity="center_vertical"
                                android:orientation="horizontal">

                                <ImageView
                                    android:layout_width="20dp"
                                    android:layout_height="20dp"
                                    android:src="@drawable/ic_info"
                                     />

                                <TextView
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:layout_marginStart="8dp"
                                    android:layout_marginTop="@dimen/_2sdp"
                                    android:text="Product Description"
                                    android:textColor="@color/black"
                                    android:textSize="18sp"
                                    android:textStyle="normal" />

                            </LinearLayout>

                            <View
                                android:layout_width="match_parent"
                                android:layout_height="1dp"
                                android:layout_marginTop="@dimen/_2sdp"
                                android:background="@color/gray_500"/>

                            <TextView
                                android:id="@+id/productDescription"
                                android:layout_width="match_parent"
                                android:layout_height="wrap_content"
                                android:layout_marginTop="12dp"
                                android:lineSpacingExtra="4dp"
                                android:text="Introducing our 100% Preservative-Free A2 Gir Cow milk! Sourced from the finest Indian Gir Cows, this milk is rich in protein and calcium, making it an ideal choice for individuals of all ages. With its A2 beta-casein protein, it's easier to digest and perfect for those with lactose sensitivity."
                                android:textColor="@color/text_secondary"
                                android:textSize="15sp" />

                        </LinearLayout>

                        <!-- Quantity Selector -->
                        <LinearLayout
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:layout_marginTop="24dp"
                            android:gravity="center_vertical"
                            android:orientation="horizontal">

                            <TextView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                android:text="Quantity:"
                                android:textColor="@color/black"
                                android:textSize="16sp"
                                android:textStyle="bold" />

                            <Space
                                android:layout_width="16dp"
                                android:layout_height="1dp" />

                            <com.google.android.material.card.MaterialCardView
                                android:layout_width="wrap_content"
                                android:layout_height="wrap_content"
                                app:cardBackgroundColor="@color/white"
                                app:cardCornerRadius="12dp"
                                app:cardElevation="0dp"
                                app:strokeColor="@color/gray_500"
                                app:strokeWidth="1dp">

                                <LinearLayout
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:orientation="horizontal">

                                    <ImageButton
                                        android:id="@+id/decreaseButton"
                                        android:layout_width="40dp"
                                        android:layout_height="40dp"
                                        android:background="?attr/selectableItemBackgroundBorderless"
                                        android:src="@drawable/ic_minus"
                                       />

                                    <TextView
                                        android:id="@+id/quantityValue"
                                        android:layout_width="40dp"
                                        android:layout_height="40dp"
                                        android:gravity="center"
                                        android:text="1"
                                        android:textColor="@color/primary"
                                        android:textSize="16sp"
                                        android:textStyle="bold" />

                                    <ImageButton
                                        android:id="@+id/increaseButton"
                                        android:layout_width="40dp"
                                        android:layout_height="40dp"
                                        android:background="?attr/selectableItemBackgroundBorderless"
                                        android:src="@drawable/ic_plus"
                                       />

                                </LinearLayout>

                            </com.google.android.material.card.MaterialCardView>

                        </LinearLayout>

                    </LinearLayout>

                </androidx.constraintlayout.widget.ConstraintLayout>

            </com.google.android.material.card.MaterialCardView>

        </androidx.constraintlayout.widget.ConstraintLayout>

    </androidx.core.widget.NestedScrollView>

    <!-- Bottom Action Buttons -->
    <com.google.android.material.card.MaterialCardView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_gravity="bottom"
        app:cardBackgroundColor="@android:color/white"
        app:cardCornerRadius="0dp"
        app:cardElevation="8dp">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="16dp">

            <!-- Add to Cart Button -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/addToCartButton"
                style="@style/Widget.Material3.Button.OutlinedButton"
                android:layout_width="0dp"
                android:layout_height="50dp"
                android:layout_marginEnd="12dp"
                android:layout_weight="1"
                android:text="Add to Cart"
                android:textSize="16sp"
                android:textStyle="bold"
                app:cornerRadius="14dp"
                app:icon="@drawable/ic_cart"
                app:iconGravity="textStart"
                app:strokeColor="@color/gray_500"
                app:strokeWidth="1dp" />

            <!-- Buy Now Button -->
            <com.google.android.material.button.MaterialButton
                android:id="@+id/buyNowButton"
                android:layout_width="0dp"
                android:layout_height="56dp"
                android:layout_weight="1"
                android:backgroundTint="@color/primary"
                android:text="Buy Now"
                android:textColor="@android:color/white"
                android:textSize="16sp"
                android:textStyle="bold"
                app:cornerRadius="14dp"
                app:elevation="4dp" />

        </LinearLayout>

    </com.google.android.material.card.MaterialCardView>

</androidx.coordinatorlayout.widget.CoordinatorLayout>